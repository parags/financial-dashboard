<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Global Market Indices ‚Äî GlobalPulse</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
:root {
  --bg-primary: #0a0e17;
  --bg-secondary: #111827;
  --bg-card: #1a1f2e;
  --bg-card-hover: #222839;
  --border: #2a3045;
  --text-primary: #e2e8f0;
  --text-secondary: #94a3b8;
  --text-muted: #64748b;
  --green: #22c55e;
  --green-dim: #16a34a;
  --green-bg: rgba(34,197,94,0.1);
  --red: #ef4444;
  --red-dim: #dc2626;
  --red-bg: rgba(239,68,68,0.1);
  --blue: #3b82f6;
  --blue-bg: rgba(59,130,246,0.1);
  --yellow: #eab308;
  --yellow-bg: rgba(234,179,8,0.1);
  --purple: #a855f7;
  --cyan: #06b6d4;
  --orange: #f97316;
  --gradient-card: linear-gradient(135deg, #1a1f2e 0%, #151a28 100%);
  --shadow-card: 0 4px 24px rgba(0,0,0,0.3);
}
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  min-height: 100vh;
}
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg-primary); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

/* Header */
.page-header {
  background: var(--bg-secondary);
  border-bottom: 1px solid var(--border);
  padding: 20px 30px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 12px;
}
.page-header .logo { display: flex; align-items: center; gap: 12px; }
.logo-icon {
  width: 40px; height: 40px;
  background: linear-gradient(135deg, var(--blue), var(--purple));
  border-radius: 10px;
  display: flex; align-items: center; justify-content: center;
  font-size: 20px; font-weight: 700;
}
.logo h1 { font-size: 22px; font-weight: 700; letter-spacing: -0.5px; }
.logo h1 span { color: var(--blue); }
.breadcrumb { font-size: 13px; color: var(--text-muted); }
.breadcrumb a { color: var(--blue); text-decoration: none; }
.breadcrumb a:hover { text-decoration: underline; }

/* Back button */
.back-link {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  color: var(--blue);
  text-decoration: none;
  font-size: 13px;
  font-weight: 500;
  padding: 6px 14px;
  border-radius: 8px;
  background: var(--blue-bg);
  transition: background 0.2s;
}
.back-link:hover { background: rgba(59,130,246,0.2); }

/* Section titles */
.section-title {
  font-size: 18px;
  font-weight: 700;
  margin: 30px 0 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  color: var(--text-primary);
}

/* Main */
.container { max-width: 1800px; margin: 0 auto; padding: 20px; }

/* Cards */
.card {
  background: var(--gradient-card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 20px;
  box-shadow: var(--shadow-card);
  transition: transform 0.2s, border-color 0.3s;
  position: relative;
  overflow: hidden;
}
.card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--blue), var(--purple));
  opacity: 0;
  transition: opacity 0.3s;
}
.card:hover::before { opacity: 1; }
.card:hover { border-color: rgba(59,130,246,0.3); }
.card-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* Grid layouts */
.indices-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
  gap: 20px;
}
.index-card-inner { display: flex; flex-direction: column; gap: 12px; }
.index-top { display: flex; justify-content: space-between; align-items: flex-start; }
.index-name { font-size: 16px; font-weight: 700; display: flex; align-items: center; gap: 8px; }
.index-name .flag { font-size: 20px; }
.index-price { font-size: 28px; font-weight: 700; font-variant-numeric: tabular-nums; }
.index-change { font-size: 14px; font-weight: 600; padding: 4px 10px; border-radius: 8px; }
.index-change.up { color: var(--green); background: var(--green-bg); }
.index-change.down { color: var(--red); background: var(--red-bg); }
.index-meta {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}
.meta-item {
  background: rgba(255,255,255,0.03);
  border-radius: 8px;
  padding: 8px 12px;
}
.meta-item .meta-label { font-size: 10px; color: var(--text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
.meta-item .meta-value { font-size: 14px; font-weight: 600; margin-top: 2px; font-variant-numeric: tabular-nums; }
.chart-container { position: relative; height: 180px; }

/* Table */
.data-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0 4px;
  font-size: 13px;
}
.data-table th {
  text-align: left;
  padding: 8px 12px;
  color: var(--text-muted);
  font-weight: 500;
  font-size: 11px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.data-table td {
  padding: 10px 12px;
  background: rgba(255,255,255,0.02);
  font-variant-numeric: tabular-nums;
}
.data-table tr td:first-child { border-radius: 8px 0 0 8px; font-weight: 600; }
.data-table tr td:last-child { border-radius: 0 8px 8px 0; }
.up-text { color: var(--green); }
.down-text { color: var(--red); }

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}
.card { animation: fadeInUp 0.4s ease-out both; }

@media (max-width: 860px) {
  .indices-grid { grid-template-columns: 1fr; }
  .container { padding: 12px; }
  .page-header { padding: 14px 16px; }
}
</style>
</head>
<body>

<div class="page-header">
  <div>
    <div class="logo">
      <div class="logo-icon">G</div>
      <h1>Global<span>Pulse</span></h1>
    </div>
    <div class="breadcrumb" style="margin-top:6px;">
      <a href="index.html">Dashboard</a> &rsaquo; Global Market Indices
    </div>
  </div>
  <a href="index.html" class="back-link">‚Üê Back to Dashboard</a>
</div>

<div class="container">
  <!-- US Markets -->
  <div class="section-title">üá∫üá∏ US Markets</div>
  <div class="indices-grid" id="us-indices"></div>

  <!-- India Markets -->
  <div class="section-title">üáÆüá≥ India Markets</div>
  <div class="indices-grid" id="india-indices"></div>

  <!-- International Markets -->
  <div class="section-title">üåç International Markets</div>
  <div class="indices-grid" id="intl-indices"></div>

  <!-- Top Gainers / Losers -->
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:30px;">
    <div class="card">
      <div class="card-title" style="color:var(--green);">üìà Top Gainers Today</div>
      <table class="data-table" id="gainersTable"></table>
    </div>
    <div class="card">
      <div class="card-title" style="color:var(--red);">üìâ Top Losers Today</div>
      <table class="data-table" id="losersTable"></table>
    </div>
  </div>
</div>

<script>
const fmt = (n,d=2) => Number(n).toLocaleString(undefined,{minimumFractionDigits:d,maximumFractionDigits:d});
const fmtPct = n => (n>=0?'+':'')+fmt(n)+'%';
const rand = (base,pct=0.3) => base*(1+(Math.random()-0.5)*2*pct/100);

// Generate 30-day history
function genHistory(base, vol=0.5) {
  const data = [];
  let p = base * (1 - vol/100 * 15);
  for (let i=0; i<30; i++) {
    p = p * (1 + (Math.random()-0.48)*vol/100);
    data.push(p);
  }
  return data;
}
function genLabels(n=30) {
  const labels = [];
  for (let i=n; i>0; i--) {
    const d = new Date(); d.setDate(d.getDate()-i);
    labels.push(d.toLocaleDateString('en-US',{month:'short',day:'numeric'}));
  }
  return labels;
}
const labels30d = genLabels(30);

const allIndices = [
  {id:'sp500',name:'S&P 500',flag:'üá∫üá∏',price:5924.50,change:0.42,region:'us',pe:'24.8',mcap:'$45.2T',vol:'3.8B',wk52h:'6,012.50',wk52l:'4,953.56',ytd:'+23.4%'},
  {id:'nasdaq',name:'NASDAQ Composite',flag:'üá∫üá∏',price:19210.18,change:0.68,region:'us',pe:'35.2',mcap:'$27.8T',vol:'5.2B',wk52h:'19,640.50',wk52l:'14,510.30',ytd:'+32.1%'},
  {id:'djia',name:'Dow Jones Industrial',flag:'üá∫üá∏',price:43548.72,change:0.21,region:'us',pe:'21.5',mcap:'$14.6T',vol:'420M',wk52h:'44,120.80',wk52l:'36,054.43',ytd:'+18.2%'},
  {id:'sensex',name:'BSE Sensex',flag:'üáÆüá≥',price:80248.65,change:0.71,region:'india',pe:'22.3',mcap:'‚Çπ425T',vol:'‚Çπ4,250Cr',wk52h:'82,725.28',wk52l:'65,078.54',ytd:'+14.8%'},
  {id:'nifty50',name:'Nifty 50',flag:'üáÆüá≥',price:24285.50,change:0.65,region:'india',pe:'21.8',mcap:'‚Çπ215T',vol:'‚Çπ18,400Cr',wk52h:'25,078.30',wk52l:'19,542.65',ytd:'+15.2%'},
  {id:'ftse',name:'FTSE 100',flag:'üá¨üáß',price:8312.56,change:-0.15,region:'intl',pe:'14.2',mcap:'¬£2.1T',vol:'850M',wk52h:'8,474.41',wk52l:'7,256.94',ytd:'+8.5%'},
  {id:'nikkei',name:'Nikkei 225',flag:'üáØüáµ',price:38924.18,change:0.85,region:'intl',pe:'22.1',mcap:'¬•920T',vol:'1.2B',wk52h:'42,426.77',wk52l:'30,526.88',ytd:'+16.8%'},
  {id:'dax',name:'DAX',flag:'üá©üá™',price:19254.30,change:0.33,region:'intl',pe:'13.5',mcap:'‚Ç¨1.8T',vol:'95M',wk52h:'19,674.68',wk52l:'15,456.72',ytd:'+18.9%'},
  {id:'hsi',name:'Hang Seng',flag:'üá≠üá∞',price:19630.45,change:-0.52,region:'intl',pe:'9.8',mcap:'HK$32T',vol:'1.8B',wk52h:'22,688.90',wk52l:'14,794.34',ytd:'+17.2%'},
  {id:'sse',name:'Shanghai Composite',flag:'üá®üá≥',price:3096.78,change:-0.18,region:'intl',pe:'12.4',mcap:'¬•56T',vol:'3.5B',wk52h:'3,674.40',wk52l:'2,635.09',ytd:'+8.1%'},
  {id:'asx200',name:'ASX 200',flag:'üá¶üá∫',price:8198.30,change:0.29,region:'intl',pe:'17.6',mcap:'A$2.4T',vol:'620M',wk52h:'8,364.00',wk52l:'7,164.00',ytd:'+9.4%'},
];

function renderIndexCard(idx, containerId) {
  const container = document.getElementById(containerId);
  const card = document.createElement('div');
  card.className = 'card';
  const dir = idx.change >= 0 ? 'up' : 'down';
  const color = idx.change >= 0 ? '#22c55e' : '#ef4444';
  card.innerHTML = `
    <div class="index-card-inner">
      <div class="index-top">
        <div>
          <div class="index-name"><span class="flag">${idx.flag}</span>${idx.name}</div>
          <div style="display:flex;align-items:baseline;gap:12px;margin-top:8px;">
            <div class="index-price">${fmt(idx.price)}</div>
            <span class="index-change ${dir}">${fmtPct(idx.change)}</span>
          </div>
        </div>
        <div style="text-align:right;font-size:12px;color:var(--text-muted);">YTD: <span style="color:${color}">${idx.ytd}</span></div>
      </div>
      <div class="index-meta">
        <div class="meta-item"><div class="meta-label">52W High</div><div class="meta-value">${idx.wk52h}</div></div>
        <div class="meta-item"><div class="meta-label">52W Low</div><div class="meta-value">${idx.wk52l}</div></div>
        <div class="meta-item"><div class="meta-label">P/E Ratio</div><div class="meta-value">${idx.pe}</div></div>
        <div class="meta-item"><div class="meta-label">Market Cap</div><div class="meta-value">${idx.mcap}</div></div>
        <div class="meta-item"><div class="meta-label">Volume</div><div class="meta-value">${idx.vol}</div></div>
        <div class="meta-item"><div class="meta-label">YTD Return</div><div class="meta-value" style="color:${color}">${idx.ytd}</div></div>
      </div>
      <div class="chart-container"><canvas id="chart-${idx.id}"></canvas></div>
    </div>
  `;
  container.appendChild(card);

  // Draw chart
  const history = genHistory(idx.price, 0.6);
  const ctx = card.querySelector('canvas').getContext('2d');
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: labels30d,
      datasets: [{
        data: history,
        borderColor: color,
        backgroundColor: idx.change >= 0 ? 'rgba(34,197,94,0.08)' : 'rgba(239,68,68,0.08)',
        fill: true,
        tension: 0.4,
        pointRadius: 0,
        pointHoverRadius: 4,
        borderWidth: 2,
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: { legend: { display: false }, tooltip: {
        backgroundColor: '#1a1f2e',
        borderColor: '#2a3045',
        borderWidth: 1,
        titleColor: '#94a3b8',
        bodyColor: '#e2e8f0',
        callbacks: { label: ctx => fmt(ctx.raw) }
      }},
      scales: {
        x: { display: true, ticks: { color: '#64748b', maxTicksLimit: 6, font: { size: 10 } }, grid: { color: 'rgba(255,255,255,0.03)' } },
        y: { display: true, ticks: { color: '#64748b', font: { size: 10 }, callback: v => fmt(v,0) }, grid: { color: 'rgba(255,255,255,0.03)' } }
      },
      interaction: { intersect: false, mode: 'index' }
    }
  });
}

// Render indices by region
allIndices.filter(i=>i.region==='us').forEach(i=>renderIndexCard(i,'us-indices'));
allIndices.filter(i=>i.region==='india').forEach(i=>renderIndexCard(i,'india-indices'));
allIndices.filter(i=>i.region==='intl').forEach(i=>renderIndexCard(i,'intl-indices'));

// Gainers / Losers
const stocks = [
  {name:'NVIDIA',ticker:'NVDA',price:142.85,change:4.82},
  {name:'Tesla',ticker:'TSLA',price:352.40,change:3.21},
  {name:'Palantir',ticker:'PLTR',price:62.18,change:2.95},
  {name:'Reliance Ind.',ticker:'RELIANCE.NS',price:'‚Çπ2,648',change:2.45},
  {name:'Tata Motors',ticker:'TATAMOTORS.NS',price:'‚Çπ842',change:2.12},
  {name:'Pfizer',ticker:'PFE',price:26.42,change:-3.85},
  {name:'Nike',ticker:'NKE',price:78.50,change:-2.94},
  {name:'PayPal',ticker:'PYPL',price:85.14,change:-2.12},
  {name:'HDFC Bank',ticker:'HDFCBANK.NS',price:'‚Çπ1,742',change:-1.85},
  {name:'Infosys',ticker:'INFY.NS',price:'‚Çπ1,854',change:-1.42},
];
function renderTable(id, data) {
  const el = document.getElementById(id);
  el.innerHTML = `<thead><tr><th>Stock</th><th>Ticker</th><th>Price</th><th>Change</th></tr></thead><tbody>` +
    data.map(s => {
      const cls = s.change >= 0 ? 'up-text' : 'down-text';
      return `<tr><td>${s.name}</td><td style="color:var(--text-muted)">${s.ticker}</td><td>${typeof s.price==='string'?s.price:'$'+fmt(s.price)}</td><td class="${cls}">${fmtPct(s.change)}</td></tr>`;
    }).join('') + '</tbody>';
}
renderTable('gainersTable', stocks.filter(s=>s.change>0).sort((a,b)=>b.change-a.change));
renderTable('losersTable', stocks.filter(s=>s.change<0).sort((a,b)=>a.change-b.change));
</script>
</body>
</html>
